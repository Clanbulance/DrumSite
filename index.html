<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Drum Kit</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="https://fav.farm/ðŸ”¥" />
</head>
<body>


  <div class="keys">
    <div key="a" class="key" onclick="playClick('a')">
      <kbd>A</kbd>
      <span class="sound">clap</span>
    </div>
    <div key="s" class="key" onclick="playClick('s')">
      <kbd>S</kbd>
      <span class="sound">hihat</span>
    </div>
    <div key="d" class="key" onclick="playClick('d')">
      <kbd>D</kbd>
      <span class="sound">kick</span>
    </div>
    <div key="f" class="key" onclick="playClick('f')">
      <kbd>F</kbd>
      <span class="sound">openhat</span>
    </div>
    <div key="g" class="key" onclick="playClick('g')">
      <kbd>G</kbd>
      <span class="sound">boom</span>
    </div>
    <div key="h" class="key" onclick="playClick('h')">
      <kbd>H</kbd>
      <span class="sound">ride</span>
    </div>
    <div key="j" class="key" onclick="playClick('j')">
      <kbd>J</kbd>
      <span class="sound">snare</span>
    </div>
    <div key="k" class="key" onclick="playClick('k')">
      <kbd>K</kbd>
      <span class="sound">tom</span>
    </div>
    <div key="l" class="key" onclick="playClick('l')">
      <kbd>L</kbd>
      <span class="sound">tink</span>
    </div>
  </div>

  <audio key="a" src="Sounds2/Entangle.ogg.mp3"></audio>
  <audio key="s" src="Sounds2/Hawk_Eye.ogg"></audio>
  <audio key="d" src="sounds2/Onyx_bolts_(e).ogg></audio>
  <audio key="f" src="sounds2/Opal_bolts_(e).ogg></audio>
  <audio key="g" src="sounds2/Rapid_Heal.ogg"></audio>
  <audio key="h" src="Sounds2/Sharp_Eye.ogg.mp3"></audio>
  <audio key="j" src="Sounds2/Steel_Skin.ogg.mp3"></audio>
  <audio key="k" src="Sounds2/Teleport.ogg"></audio>
  <audio key="l" src="sounds2/Wind_Wave.ogg></audio>

<script>
  
    function playSound(e){
    const audio = document.querySelector(`audio[key="${e.key}"]`) // finds the right audio file
    const key = document.querySelector(`.key[key="${e.key}"]`); //finds the right key object
    if(!audio && !key) return; // this stops the function
    audio.currentTime = 0; // rewind to start
    audio.play();
    key.classList.add('playing');
    console.log(e);
  };

function playClick(int){
  const audio = document.querySelector(`audio[key="${int}"]`);
  const key = document.querySelector(`.key[key="${int}"]`);
  key.classList.add('playing');
  audio.play();
  console.log(int);
};




const keys = document.querySelectorAll('.key');
keys.forEach(key =>key.addEventListener('transitionend', removeTransition));


function removeTransition(e){
  if (e.propertyName !== `transform`) return; //skip if not a transform
    console.log(e.propertyName);
    this.classList.remove('playing');
};



window.addEventListener('keydown',playSound);


</script>


</body>
</html>
